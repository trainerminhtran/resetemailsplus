!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("vue")):"function"==typeof define&&define.amd?define(["exports","vue"],n):n((e=e||self).VueDynamic={},e.Vue)}(this,(function(e,n){"use strict";n=n&&n.hasOwnProperty("default")?n.default:n;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
var t=function(){return(t=Object.assign||function(e){for(var n,t=1,r=arguments.length;t<r;t++)for(var i in n=arguments[t])Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i]);return e}).apply(this,arguments)},r=Object.prototype.toString,i=function(e){return"function"==typeof e},o=function(e){return"[object Object]"===r.call(e)},a=n.util.warn,u=function(e){return a("invalid "+e+" will be ignored!")},c=function(e){return a("no "+e+" found thus it will be ignored!")},f=function(e,n,t){var r=e[t];if(o(r)){for(var a={},c=0,f=Object.entries(r||{});c<f.length;c++){var l=f[c],s=l[0],p=l[1];a[s]=i(p)?p:Function[Array.isArray(p)?"apply":"call"](null,p)}n[t]=a}else if(r)return u(t);return!0},l=function(e,n){if(void 0===n&&(n=!1),e){if(o(e))e=function(e){for(var n=[],t=0,r=Object.entries(e);t<r.length;t++){var i=r[t],a=i[0],u=i[1];o(u)&&n.push(Object.assign(u,{name:a}))}return n}(e);else if(!Array.isArray(e))return u("components");if(0===e.length)return c("components");var r="",a={},s=0;if(e.forEach((function(e,o){var u=e.name,p=void 0===u?"Dynamic__"+o:u,d=e.template,m=e.data,v=e.components;if(!d)return c("template");r+="<"+p+(n?"":' v-on="$parent.$listeners"')+" />";var y=a[p]={template:d};f(e,y,"filters")&&f(e,y,"methods")&&(m&&(y.data=i(m)?m:function(){return t({},m)}),v&&(y.components=l(v,!0)),s++)})),s)return n?a:{name:"Dynamic__Root",template:1===s?r:"<div>"+r+"</div>",components:a}}},s={name:"vue-dynamic",template:'<component :is="view" />',props:{comps:{validator:function(e){return!e||Array.isArray(e)||o(e)}},emptyView:{required:!0,validator:function(e){return o(e)}}},data:function(){return{view:this.emptyView}},watch:{comps:{immediate:!0,handler:"build"}},methods:{build:function(){this.view=l(this.comps)||this.emptyView}}},p=function(e,n){var t;return e.component((null===(t=n)||void 0===t?void 0:t.name)||"Dynamic",s)};"undefined"!=typeof window&&window.Vue&&window.Vue.use(p);var d=p;e.Dynamic=s,e.VueDynamic=p,e.default=p,e.install=d,Object.defineProperty(e,"__esModule",{value:!0})}));
