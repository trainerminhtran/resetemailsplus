import n from"vue";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var t=function(){return(t=Object.assign||function(n){for(var t,e=1,r=arguments.length;e<r;e++)for(var i in t=arguments[e])Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n}).apply(this,arguments)},e=Object.prototype.toString,r=function(n){return"function"==typeof n},i=function(n){return"[object Object]"===e.call(n)},o=n.util.warn,a=function(n){return o("invalid "+n+" will be ignored!")},u=function(n){return o("no "+n+" found thus it will be ignored!")},c=function(n,t,e){var o=n[e];if(i(o)){for(var u={},c=0,f=Object.entries(o||{});c<f.length;c++){var l=f[c],p=l[0],s=l[1];u[p]=r(s)?s:Function[Array.isArray(s)?"apply":"call"](null,s)}t[e]=u}else if(o)return a(e);return!0},f=function(n,e){if(void 0===e&&(e=!1),n){if(i(n))n=function(n){for(var t=[],e=0,r=Object.entries(n);e<r.length;e++){var o=r[e],a=o[0],u=o[1];i(u)&&t.push(Object.assign(u,{name:a}))}return t}(n);else if(!Array.isArray(n))return a("components");if(0===n.length)return u("components");var o="",l={},p=0;if(n.forEach((function(n,i){var a=n.name,s=void 0===a?"Dynamic__"+i:a,m=n.template,d=n.data,v=n.components;if(!m)return u("template");o+="<"+s+(e?"":' v-on="$parent.$listeners"')+" />";var y=l[s]={template:m};c(n,y,"filters")&&c(n,y,"methods")&&(d&&(y.data=r(d)?d:function(){return t({},d)}),v&&(y.components=f(v,!0)),p++)})),p)return e?l:{name:"Dynamic__Root",template:1===p?o:"<div>"+o+"</div>",components:l}}},l={name:"vue-dynamic",template:'<component :is="view" />',props:{comps:{validator:function(n){return!n||Array.isArray(n)||i(n)}},emptyView:{required:!0,validator:function(n){return i(n)}}},data:function(){return{view:this.emptyView}},watch:{comps:{immediate:!0,handler:"build"}},methods:{build:function(){this.view=f(this.comps)||this.emptyView}}},p=function(n,t){var e;return n.component((null===(e=t)||void 0===e?void 0:e.name)||"Dynamic",l)};"undefined"!=typeof window&&window.Vue&&window.Vue.use(p);var s=p;export default p;export{l as Dynamic,p as VueDynamic,s as install};
